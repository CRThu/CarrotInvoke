## CarrotInvoke - 动态函数调用框架

🌐 Language: [English](README.md) | [中文](README.zh-CN.md)

---

![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)

CarrotInvoke 是一个轻量级的动态函数调用框架，支持通过字符串命令或参数池动态调用预注册的函数。它提供了类型安全的参数传递和灵活的调用方式，适用于需要动态执行函数的场景。

### 功能特性

- **动态函数调用**：通过字符串命令或参数池调用函数
- **类型安全**：支持多种数据类型（整数、字符串、二进制等）的转换和传递
- **灵活的参数处理**：支持可变参数和固定参数的函数调用
- **调试支持**：内置调试打印功能，方便开发调试
- **跨平台**：纯C实现，支持C/C++混合编程

### 目录结构

```
CarrotInvoke/
├── CarrotInvoke/            # 核心库
│   ├── inc/                 # 头文件
│   │   ├── cmdparse.h       # 命令解析
│   │   ├── dyncall.h        # 动态调用
│   │   └── dynpool.h        # 动态参数池
│   └── src/                 # 源文件
│       ├── cmdparse.c       # 命令解析实现
│       ├── dyncall.c        # 动态调用实现
│       └── dynpool.c        # 动态参数池实现
├── CarrotInvoke.Demo/       # 示例程序
│   ├── func.c               # 示例函数实现
│   ├── func.h               # 示例函数声明
│   └── main.c               # 示例主程序
└── CarrotInvoke.Test/       # 单元测试
    ├── pch.h                # 预编译头
    └── *.cpp                # 测试用例
```

### 快速开始

1. **注册函数**：
```c
void print_hello() {
    printf("Hello World!\n");
}

const function_group_t default_func_group = {
    FUNCTION_GROUP("default",
        FUNCTION_INFO(print_hello, T_NULL, T_VOID)
    )
};
```

2. **调用函数**：
```c
invoke(&default_func_group, "print_hello");
```

3. **通过命令调用**：
```c
dynpool_t pool;
cmdparse_from_string(&pool, "print_hello()", &len);
invoke_by_cmd(&default_func_group, &pool);
```

### 构建说明

本项目使用 Visual Studio 2022 构建：

1. 打开 `CarrotInvoke.sln` 解决方案文件
2. 选择构建配置（Debug/Release）
3. 构建解决方案

### 许可证

Apache License 2.0

---

*This README was generated by DeepSeek*